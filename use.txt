1. 数据集
数据集采用的是sst-2，在dataset目录下

2. 训练teacher网络
python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/SST-2 \
 --task_name SST-2 \
 --output_dir SST-2_teacher

 python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/CoLA \
 --task_name CoLA \
 --output_dir CoLA_teacher

 python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/QNLI \
 --task_name QNLI \
 --output_dir QNLI_teacher

  python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/QQP \
 --task_name QQP \
 --output_dir QQP_teacher


3. 训练student网络
python distill_xiaorong.py \
 --teacher_model SST-2_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/SST-2 \
 --task_name SST-2 \
 --output_dir SST-2_student \
 --not_avg \
 --use_soft_cls_loss \
 --use_feature_loss \
 --use_discriminator

 python distill_xiaorong.py \
 --teacher_model SST-2_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/SST-2 \
 --task_name SST-2 \
 --output_dir SST-2_student \
 --use_soft_cls_loss \
 --use_feature_loss \
 --use_discriminator


4. 更换数据集（以CoLA为例）
python train_teacher.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/CoLA \
 --task_name CoLA \
 --output_dir CoLA_teacher

python train_teacher.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/QQP \
 --task_name QQP \
 --output_dir QQP_teacher

python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/MNLI \
 --task_name MNLI \
 --output_dir MNLI_teacher

 python train_teacher.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/MRPC \
 --task_name MRPC \
 --output_dir MRPC_teacher

  python train_teacher_cola.py \
 --teacher_model bert-base-uncased \
 --data_dir dataset/RTE \
 --task_name RTE \
 --output_dir RTE_teacher


python distill.py \
 --teacher_model CoLA_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/CoLA \
 --task_name CoLA \
 --output_dir CoLA_student \
 --use_soft_cls_loss \
 --use_feature_loss \
 --use_discriminator

 python distill_xiaorong.py \
 --teacher_model QQP_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/QQP \
 --task_name QQP \
 --output_dir QQP_student \
 --not_avg \
 --use_soft_cls_loss \
 --use_feature_loss \
 --use_discriminator

 python distill_xiaorong.py \
 --teacher_model MRPC_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/MRPC \
 --task_name MRPC \
 --output_dir MRPC_student \
 --use_soft_cls_loss \
 --use_feature_loss \
 --use_discriminator

  python distill_xiaorong.py \
 --teacher_model MNLI_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/MNLI \
 --task_name MNLI \
 --output_dir MNLI_student \
  --not_avg \
 --use_soft_cls_loss \
 --use_feature_loss \
--use_discriminator

   python distill_cola.py \
 --teacher_model CoLA_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/CoLA \
 --task_name CoLA \
 --output_dir CoLA_student \
 --use_soft_cls_loss \
 --use_feature_loss


  python distill_cola.py \
 --teacher_model RTE_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/RTE \
 --task_name RTE \
 --output_dir RTE_student \
 --use_soft_cls_loss \
 --use_feature_loss



  python distill_cola.py \
 --teacher_model QNLI_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/QNLI \
 --task_name QNLI \
 --output_dir QNLI_student \
 --use_soft_cls_loss \
 --use_feature_loss


   python distill_xiaorong.py \
 --teacher_model RTE_teacher \
 --student_model bert-4L-312D \
 --data_dir dataset/RTE \
 --task_name RTE \
 --output_dir RTE_student \
 --use_soft_cls_loss \
 --use_feature_loss \
--use_discriminator